---
- hosts: localhost
  connection: local
  # as root
  become: true
  # as other user
  become_user: p4810

  pre_tasks:
    # sudo apt update
    - name: pre-run | update package cache (debian, etc)
      tags: always
      apt: update_cache=yes
      when: ansible_distribution in ["Debian", "Ubuntu"]

  tasks:
#    # instaling htop package
#    - name: install htop
#      package:
#        name:
#          - htop
#          - tmux
#          - nano
#          - vim-nox

#    - name: copy file test
#      copy:
#        src: files/file_001.txt
#        dest: "~/file_test1.txt"
##        dest: "{{ ansible_env.HOME }}/file_test.txt"
#        owner: p4810
#        group: p4810

## task to complete before running roles
#- hosts: all
#  tags: slways
#  become: true
#  pre_task:
#    # sudo pacman update
#    - name: pre-run | update package cache (arch)
#      tags: always
#      pacman: update_cache=yes
#      when: ansible_distribution == "Archlinux"
#
#    # sudo apt update
#    - name: pre-run | update package cache (debian, etc)
#      tags: always
#      apt: update_cache=yes
#      when: ansible_distribution in ["Debian", "Ubuntu"]
#
## run roles
#- hosts: all
#  tags: base
#  become: true
#  roles:
#    - base
#
#- hosts: workstation
#  tags: workstation
#  become: true
#  roles:
#    - workstation
#
#- hosts: server
#  tags: server
#  become: true
#  roles:
#    - server
